import{r as m,b as d,z as F,o as O,q as G}from"./index-bb12af8a.js";import{u as l}from"./index-18c643bd.js";var H=(s=>(s.UP="UP",s.RIGHT="RIGHT",s.DOWN="DOWN",s.LEFT="LEFT",s.NONE="NONE",s))(H||{});function Y(s,a={}){const{threshold:v=50,onSwipe:L,onSwipeEnd:P,onSwipeStart:w,passive:g=!0,window:I=G}=a,n=m({x:0,y:0}),r=m({x:0,y:0}),c=d(()=>n.x-r.x),u=d(()=>n.y-r.y),{max:W,abs:i}=Math,h=d(()=>W(i(c()),i(u()))>=v),[p,x]=F(!1),N=d(()=>h()?i(c())>i(u())?c()>0?"LEFT":"RIGHT":u()>0?"UP":"DOWN":"NONE"),S=t=>[t.touches[0].clientX,t.touches[0].clientY],b=(t,o)=>{n.x=t,n.y=o},T=(t,o)=>{r.x=t,r.y=o};let e;const E=M(I?.document);g?e=E?{passive:!0}:{capture:!1}:e=E?{passive:!1,capture:!0}:{capture:!0};const y=t=>{p()&&P?.(t,N()),x(!1)},C=[l(s,"touchstart",t=>{e.capture&&!e.passive&&t.preventDefault();const[o,f]=S(t);b(o,f),T(o,f),w?.(t)},e),l(s,"touchmove",t=>{const[o,f]=S(t);T(o,f),!p()&&h()&&x(!0),p()&&L?.(t)},e),l(s,"touchend",y,e),l(s,"touchcancel",y,e)];return{isPassiveEventSupported:E,isSwiping:p,direction:N,coordsStart:n,coordsEnd:r,lengthX:c,lengthY:u,stop:()=>C.forEach(t=>t())}}function M(s){if(!s)return!1;let a=!1;const v={get passive(){return a=!0,!1}};return s.addEventListener("x",O,v),s.removeEventListener("x",O),a}export{H as S,Y as u};
