import{u as s,B,w as g,E as x,C as E}from"./index-89ea7ae1.js";import{p as A}from"./index-9cc34db9.js";function p(e,i=!1,P){const a=P??E();function u(n,{timeout:t,throwOnTimeout:r}={}){let o=null;const w=[new Promise(l=>{B(a,()=>{o=g(e,c=>{n(c)!==i&&(o?.(),l(c))})})})];return t!=null&&w.push(A(t,r).then(()=>s(e)).finally(()=>o?.())),Promise.race(w)}function m(n,t){if(!x(n))return u(c=>c===n,t);const{timeout:r,throwOnTimeout:o}=t??{};let f=null;const l=[new Promise(c=>{B(a,()=>{f=g([e,n],([y,b])=>{i!==(y===b)&&(f?.(),c(y))})})})];return r!=null&&l.push(A(r,o).then(()=>s(e)).finally(()=>(f?.(),s(e)))),Promise.race(l)}function T(n){return u(t=>!!t,n)}function N(n){return m(null,n)}function O(n){return m(void 0,n)}function C(n){return u(Number.isNaN,n)}function U(n,t){return u(r=>{const o=Array.from(r);return o.includes(n)||o.includes(s(n))},t)}function d(n){return h(1,n)}function h(n=1,t){let r=-1;return u(()=>(r+=1,r>=n),t)}return Array.isArray(s(e))?{toMatch:u,toContains:U,changed:d,changedTimes:h,get not(){return p(e,!i,a)}}:{toMatch:u,toBe:m,toBeTruthy:T,toBeNull:N,toBeNaN:C,toBeUndefined:O,changed:d,changedTimes:h,get not(){return p(e,!i,a)}}}function j(e,i){return p(e,!1,i)}export{j as u};
