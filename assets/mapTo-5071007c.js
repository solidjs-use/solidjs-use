import{O as u,b as s,_ as f,S as p,h as m,o as h,c as w}from"./Observable-0ea24d77.js";var x=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function S(t,e){return new u(function(n){var r=new s,o=0;return r.add(e.schedule(function(){if(o===t.length){n.complete();return}n.next(t[o++]),n.closed||r.add(this.schedule())})),r})}function I(t,e){return function(r){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new T(t,e))}}var T=function(){function t(e,n){this.project=e,this.thisArg=n}return t.prototype.call=function(e,n){return n.subscribe(new g(e,this.project,this.thisArg))},t}(),g=function(t){f(e,t);function e(n,r,o){var i=t.call(this,n)||this;return i.project=r,i.count=0,i.thisArg=o||i,i}return e.prototype._next=function(n){var r;try{r=this.project.call(this.thisArg,n,this.count++)}catch(o){this.destination.error(o);return}this.destination.next(r)},e}(p),O=function(t){return function(e){return t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,m),e}};function M(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var l=M(),_=function(t){return function(e){var n=t[l]();do{var r=void 0;try{r=n.next()}catch(o){return e.error(o),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}while(!0);return typeof n.return=="function"&&e.add(function(){n.return&&n.return()}),e}},N=function(t){return function(e){var n=t[h]();if(typeof n.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},d=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function v(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var b=function(t){if(t&&typeof t[h]=="function")return N(t);if(d(t))return x(t);if(v(t))return O(t);if(t&&typeof t[l]=="function")return _(t);var e=w(t)?"an invalid object":"'"+t+"'",n="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(n)};function E(t,e){return new u(function(n){var r=new s;return r.add(e.schedule(function(){var o=t[h]();r.add(o.subscribe({next:function(i){r.add(e.schedule(function(){return n.next(i)}))},error:function(i){r.add(e.schedule(function(){return n.error(i)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}function j(t,e){return new u(function(n){var r=new s;return r.add(e.schedule(function(){return t.then(function(o){r.add(e.schedule(function(){n.next(o),r.add(e.schedule(function(){return n.complete()}))}))},function(o){r.add(e.schedule(function(){return n.error(o)}))})})),r})}function A(t,e){if(!t)throw new Error("Iterable cannot be null");return new u(function(n){var r=new s,o;return r.add(function(){o&&typeof o.return=="function"&&o.return()}),r.add(e.schedule(function(){o=t[l](),r.add(e.schedule(function(){if(!n.closed){var i,a;try{var c=o.next();i=c.value,a=c.done}catch(y){n.error(y);return}a?n.complete():(n.next(i),this.schedule())}}))})),r})}function P(t){return t&&typeof t[h]=="function"}function C(t){return t&&typeof t[l]=="function"}function Y(t,e){if(t!=null){if(P(t))return E(t,e);if(v(t))return j(t,e);if(d(t))return S(t,e);if(C(t)||typeof t=="string")return A(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function k(t,e){return e?Y(t,e):t instanceof u?t:new u(b(t))}var F=function(t){f(e,t);function e(n){var r=t.call(this)||this;return r.parent=n,r}return e.prototype._next=function(n){this.parent.notifyNext(n)},e.prototype._error=function(n){this.parent.notifyError(n),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(p),V=function(t){f(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyError=function(n){this.destination.error(n)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(p);function $(t,e){if(!e.closed){if(t instanceof u)return t.subscribe(e);var n;try{n=b(t)(e)}catch(r){e.error(r)}return n}}function L(t,e,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),typeof e=="function"?function(r){return r.pipe(L(function(o,i){return k(t(o,i)).pipe(I(function(a,c){return e(o,a,i,c)}))},n))}:(typeof e=="number"&&(n=e),function(r){return r.lift(new R(t,n))})}var R=function(){function t(e,n){n===void 0&&(n=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=n}return t.prototype.call=function(e,n){return n.subscribe(new q(e,this.project,this.concurrent))},t}(),q=function(t){f(e,t);function e(n,r,o){o===void 0&&(o=Number.POSITIVE_INFINITY);var i=t.call(this,n)||this;return i.project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return e.prototype._next=function(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)},e.prototype._tryNext=function(n){var r,o=this.index++;try{r=this.project(n,o)}catch(i){this.destination.error(i);return}this.active++,this._innerSub(r)},e.prototype._innerSub=function(n){var r=new F(this),o=this.destination;o.add(r);var i=$(n,r);i!==r&&o.add(i)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(V);function G(t){return function(e){return e.lift(new z(t))}}var z=function(){function t(e){this.value=e}return t.prototype.call=function(e,n){return n.subscribe(new B(e,this.value))},t}(),B=function(t){f(e,t);function e(n,r){var o=t.call(this,n)||this;return o.value=r,o}return e.prototype._next=function(n){this.destination.next(this.value)},e}(p);export{F as S,I as a,V as b,L as c,x as d,S as e,k as f,$ as i,G as m,b as s};
