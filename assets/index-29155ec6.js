import{n as p,G as M,u as c,v as _}from"./index-4b9699b6.js";import{u as k}from"./index-542b005d.js";import{u as q}from"./index-e1d0a3f9.js";import{w as X}from"./computed-7e51e667.js";import{u as w}from"./index-045ff6ca.js";const A=1;function Q(a,R={}){const{throttle:f=0,idle:Y=200,onStop:C=_,onScroll:F=_,offset:i={left:0,right:0,top:0,bottom:0},eventListenerOptions:d={capture:!1,passive:!0},behavior:O="auto"}=R,[u,V]=p(0),[m,W]=p(0),[b,G]=X({get(){return u()},set(t){g(t,void 0)}}),[h,P]=X({get(){return m()},set(t){g(void 0,t)}});function g(t,o){const r=c(a);r&&(r instanceof Document?document.body:r)?.scrollTo({top:c(o)??h(),left:c(t)??b(),behavior:c(O)})}const[S,v]=p(!1),e=M({left:!0,right:!1,top:!0,bottom:!1}),s=M({left:!1,right:!1,top:!1,bottom:!1}),T=t=>{S()&&(v(!1),s.left=!1,s.right=!1,s.top=!1,s.bottom=!1,C(t))},j=k(T,f+Y),E=t=>{const o=t===document?t.documentElement:t,{display:r,flexDirection:L}=getComputedStyle(o),n=o.scrollLeft;s.left=n<u(),s.right=n>u();const x=Math.abs(n)<=0+(i.left??0),y=Math.abs(n)+o.clientWidth>=o.scrollWidth-(i.right??0)-A;r==="flex"&&L==="row-reverse"?(e.left=y,e.right=x):(e.left=x,e.right=y),V(n);let l=o.scrollTop;t===document&&!l&&(l=document.body.scrollTop),s.top=l<m(),s.bottom=l>m();const H=Math.abs(l)<=0+(i.top??0),I=Math.abs(l)+o.clientHeight>=o.scrollHeight-(i.bottom??0)-A;r==="flex"&&L==="column-reverse"?(e.top=I,e.bottom=H):(e.top=H,e.bottom=I),W(l)},D=t=>{const o=t.target===document?t.target.documentElement:t.target;E(o),v(!0),j(t),F(t)};return w(a,"scroll",f?q(D,f,!0,!1):D,d),w(a,"scrollend",T,d),{x:b,setX:G,y:h,setY:P,isScrolling:S,arrivedState:e,directions:s,measure(){const t=c(a);t&&E(t)}}}export{Q as u};
