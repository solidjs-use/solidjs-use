import{W as y,o as A,u as s,q as k}from"./index-24ac6e1e.js";import{u as i}from"./index-c4009a0f.js";let d=!1;function L(n,u,f={}){const{window:t=k,ignore:m=[],capture:p=!0,detectIframe:h=!1}=f;if(!t)return;y&&!d&&(d=!0,Array.from(t.document.body.children).forEach(e=>e.addEventListener("click",A)));let r=!0;const a=e=>m.some(o=>{if(typeof o=="string")return Array.from(t.document.querySelectorAll(o)).some(l=>l===e.target||e.composedPath().includes(l));const c=s(o);return c&&(e.target===c||e.composedPath().includes(c))}),E=[i(t,"click",e=>{const o=s(n);if(!(!o||o===e.target||e.composedPath().includes(o))){if(e.detail===0&&(r=!a(e)),!r){r=!0;return}u(e)}},{passive:!0,capture:p}),i(t,"pointerdown",e=>{const o=s(n);o&&(r=!e.composedPath().includes(o)&&!a(e))},{passive:!0}),h&&i(t,"blur",e=>{const o=s(n);t.document.activeElement?.tagName==="IFRAME"&&!o?.contains(t.document.activeElement)&&u(e)})].filter(Boolean);return()=>E.forEach(e=>e())}export{L as o};
