import{_ as f,S as h,O as l,i as m,a as b}from"./Observable-f2594621.js";import{s as x,a as S,i as w,S as g,b as E,f as L,c as F}from"./mapTo-689f6d56.js";import{H as y,w as T}from"./index-24ac6e1e.js";var A=function(t){f(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.notifyNext=function(e,r,i,o,s){this.destination.next(r)},n.prototype.notifyError=function(e,r){this.destination.error(e)},n.prototype.notifyComplete=function(e){this.destination.complete()},n}(h),I=function(t){f(n,t);function n(e,r,i){var o=t.call(this)||this;return o.parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return n.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},n.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},n.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},n}(h);function V(t,n,e,r,i){if(i===void 0&&(i=new I(t,e,r)),!i.closed)return n instanceof l?n.subscribe(i):x(n)(i)}function p(t,n,e,r){return b(e)&&(r=e,e=void 0),r?p(t,n,e).pipe(S(function(i){return m(i)?r.apply(void 0,i):r(i)})):new l(function(i){function o(s){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(s)}d(t,n,o,i,e)})}function d(t,n,e,r,i){var o;if(U(t)){var s=t;t.addEventListener(n,e,i),o=function(){return s.removeEventListener(n,e,i)}}else if(R(t)){var u=t;t.on(n,e),o=function(){return u.off(n,e)}}else if(k(t)){var a=t;t.addListener(n,e),o=function(){return a.removeListener(n,e)}}else if(t&&t.length)for(var c=0,v=t.length;c<v;c++)d(t[c],n,e,r,i);else throw new TypeError("Invalid event target");r.add(o)}function k(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function R(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function U(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function _(t,n){return function(r){return r.lift(new C(t,n))}}var C=function(){function t(n,e){this.predicate=n,this.thisArg=e}return t.prototype.call=function(n,e){return e.subscribe(new W(n,this.predicate,this.thisArg))},t}(),W=function(t){f(n,t);function n(e,r,i){var o=t.call(this,e)||this;return o.predicate=r,o.thisArg=i,o.count=0,o}return n.prototype._next=function(e){var r;try{r=this.predicate.call(this.thisArg,e,this.count++)}catch(i){this.destination.error(i);return}r&&this.destination.next(e)},n}(h);function B(t){return function(n){return n.lift(new H(t))}}var H=function(){function t(n){this.notifier=n}return t.prototype.call=function(n,e){var r=new M(n),i=w(this.notifier,new g(r));return i&&!r.seenValue?(r.add(i),e.subscribe(r)):r},t}(),M=function(t){f(n,t);function n(e){var r=t.call(this,e)||this;return r.seenValue=!1,r}return n.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},n.prototype.notifyComplete=function(){},n}(E);function D(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(e){var r;typeof t[t.length-1]=="function"&&(r=t.pop());var i=t;return e.lift(new P(i,r))}}var P=function(){function t(n,e){this.observables=n,this.project=e}return t.prototype.call=function(n,e){return e.subscribe(new $(n,this.observables,this.project))},t}(),$=function(t){f(n,t);function n(e,r,i){var o=t.call(this,e)||this;o.observables=r,o.project=i,o.toRespond=[];var s=r.length;o.values=new Array(s);for(var u=0;u<s;u++)o.toRespond.push(u);for(var u=0;u<s;u++){var a=r[u];o.add(V(o,a,void 0,u))}return o}return n.prototype.notifyNext=function(e,r,i){this.values[i]=r;var o=this.toRespond;if(o.length>0){var s=o.indexOf(i);s!==-1&&o.splice(s,1)}},n.prototype.notifyComplete=function(){},n.prototype._next=function(e){if(this.toRespond.length===0){var r=[e].concat(this.values);this.project?this._tryProject(r):this.destination.next(r)}},n.prototype._tryProject=function(e){var r;try{r=this.project.apply(this,e)}catch(i){this.destination.error(i);return}this.destination.next(r)},n}(A);function J(t,n){return y(t)?new l(e=>{const r=T(t,i=>e.next(i),n);return()=>{r()}}):L(t)}function G(t,n){return y(t)?J(t).pipe(_(e=>e instanceof HTMLElement),F(e=>p(e,n))):p(t,n)}function K(t){return{next:n=>{t(()=>n)}}}export{J as a,K as b,G as f,B as t,D as w};
