import{n as p,H as M,u as i,v as _,x as z}from"./index-7f53179d.js";import{u as B}from"./index-33dec02b.js";import{u as G}from"./index-dd445d8a.js";import{w as X}from"./computed-7e51e667.js";import{u as A}from"./index-2cbf28d9.js";const R=1;function Z(a,W={}){const{throttle:u=0,idle:Y=200,onStop:C=_,onScroll:F=_,offset:f={left:0,right:0,top:0,bottom:0},eventListenerOptions:b={capture:!1,passive:!0},behavior:O="auto",window:o=z}=W,[m,V]=p(0),[d,P]=p(0),[h,j]=X({get(){return m()},set(t){S(t,void 0)}}),[g,k]=X({get(){return d()},set(t){S(void 0,t)}});function S(t,e){if(!o)return;const r=i(a);r&&(r instanceof Document?o.document.body:r)?.scrollTo({top:i(e)??g(),left:i(t)??h(),behavior:i(O)})}const[v,E]=p(!1),s=M({left:!0,right:!1,top:!0,bottom:!1}),n=M({left:!1,right:!1,top:!1,bottom:!1}),T=t=>{v()&&(E(!1),n.left=!1,n.right=!1,n.top=!1,n.bottom=!1,C(t))},q=B(T,u+Y),w=t=>{if(!o)return;const e=t===o?t.document.documentElement:t===o.document?t.documentElement:t,{display:r,flexDirection:D}=getComputedStyle(e),c=e.scrollLeft;n.left=c<m(),n.right=c>m();const H=Math.abs(c)<=0+(f.left??0),L=Math.abs(c)+e.clientWidth>=e.scrollWidth-(f.right??0)-R;r==="flex"&&D==="row-reverse"?(s.left=L,s.right=H):(s.left=H,s.right=L),V(c);let l=e.scrollTop;t===o.document&&!l&&(l=o.document.body.scrollTop),n.top=l<d(),n.bottom=l>d();const y=Math.abs(l)<=0+(f.top??0),I=Math.abs(l)+e.clientHeight>=e.scrollHeight-(f.bottom??0)-R;r==="flex"&&D==="column-reverse"?(s.top=I,s.bottom=y):(s.top=y,s.bottom=I),P(l)},x=t=>{if(!o)return;const e=t.target===o.document?t.target.documentElement:t.target;w(e),E(!0),q(t),F(t)};return A(a,"scroll",u?G(x,u,!0,!1):x,b),A(a,"scrollend",T,b),{x:h,setX:j,y:g,setY:k,isScrolling:v,arrivedState:s,directions:n,measure(){const t=i(a);o&&t&&w(t)}}}export{Z as u};
